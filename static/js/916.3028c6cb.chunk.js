"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[916],{5916:(e,a,t)=>{t.r(a),t.d(a,{default:()=>P});var s=t(2483),l=t(3080),o=t(3358),n=t(3377),r=t(2307),i=t(442),c=t(6723);const d=e=>{let{sx:a,ref:t,focused:s,variant:o,defaultValue:n,inputProps:d,type:m,disabled:u,inputRef:p,name:g,label:h,error:f,onKeyDown:x,control:b,dontCapitalize:y,color:j,shrink:v,onBlurCapture:w,id:I,placeholder:N,onFocus:C}=e;return(0,c.jsx)(r.A,{fullWidth:!0,size:"small",sx:a,children:(0,c.jsx)(l.xI,{render:e=>{let{field:a}=e;return(0,c.jsx)("fieldset",{disabled:u,children:(0,c.jsx)(i.A,{id:I,className:"h-[35px] text-[14px] bg-white",inputRef:p,ref:t||null,autoComplete:"off",onKeyDown:x,onBlurCapture:w,onFocus:C,inputProps:y?{style:{fontSize:"18px",height:"28.5px"}}:{style:{textTransform:"capitalize",fontSize:"18px",height:"30.5px"}},sx:{"& .MuiFormLabel-root":{fontSize:"20px",color:"#1c7e80",fontFamily:"'Belleza', sans-serif",...v?{position:"absolute",top:-4,marginRight:0,marginLeft:-.3}:{position:"absolute",top:-1,marginRight:0,marginLeft:-.3}},"& .MuiOutlinedInput-root":{fontFamily:"'Belleza', sans-serif","& input":{fontSize:"18px",fontFamily:"'Belleza', sans-serif",...y?{textTransform:"none"}:{textTransform:"capitalize"}},"& fieldset":{borderColor:"#1c7e80"},"&:hover fieldset":{borderColor:"#1c7e80"},"&.Mui-focused fieldset":{borderColor:"#1c7e80"}},"& input::-webkit-inner-spin-button":{WebkitAppearance:"none"}},autoFocus:!!s,onWheel:e=>{"number"===m&&e.target.blur()},type:m,error:!(null===f||void 0===f||!f.message),color:j,variant:o,label:h,placeholder:N||h,name:g,fullWidth:!0,...a,size:"small",shrink:!1})})},name:g,control:b,defaultValue:n})})};var m=t(2152),u=t(8424),p=t(7348),g=t(272);const h=e=>{let{className:a,isDisabled:t,placeholdernotVisible:o,isMulti:n,inputRef:i,control:d,error:h,dataArray:f,name:x,handleInputChange:b,placeholder:y,isClearable:j,defaultValue:v,searchIcon:w,isSearchable:I,menuPlacement:N,menuShouldBlockScroll:C}=e;const k=(0,s.useRef)(null),[S,V]=(0,s.useState)("full");let z=!(null===h||void 0===h||!h.message);N||(N="bottom"),!0!==C&&(C=!1),(0,s.useLayoutEffect)((()=>{V(j?k.current.offsetWidth-72:k.current.offsetWidth-52)}),[]),!0!==I&&(I=!1);const O={menu:e=>({...e,position:"absolute",boxShadow:"0 20px 54px 0 rgba(0,0,0,0.2)",zIndex:1300,fontStyle:"normal",fontSize:"14px",lineHeight:"24px",minWidth:k.current.offsetWidth,width:"fit-content",fontFamily:"'Belleza', sans-serif"}),option:(e,a)=>{let{isDisabled:t,isFocused:s,isSelected:l}=a;return{...e,whiteSpace:"nowrap",backgroundColor:t?void 0:l?"rgba(222,235,255,1)":s?"rgba(222,235,255,0.5)":void 0,color:t?void 0:l||s?"#000000":void 0,fontFamily:"'Belleza', sans-serif"}},control:(e,a)=>({...e,borderRadius:"5px",minHeight:"45.3px",fontSize:"14px",maxHeight:"fit-content",textOverflow:"ellipsis",display:"flex",flexWrap:n?"wrap":"nowrap",border:z?(a.isSelected||a.isFocused||a.hasValue||a.selectProps.inputValue,"1px solid #1c7e80"):a.hasValue||a.selectProps.inputValue?"2px solid #1c7e80":"1px solid #1c7e80","&:hover":{cursor:t?"not-allowed":"pointer","& .css-1f1r5zb-singleValue, & div[class*='-singleValue']":{color:"# !important"}}}),singleValue:(e,a)=>{let{isDisabled:t}=a;return{...e,display:"flex",paddingLeft:"4px",maxWidth:S,textOverflow:"ellipsis",color:"#000000",marginLeft:"5px",fontSize:"18px",opacity:t?.5:1,fontFamily:"'Belleza', sans-serif","&:hover":{color:"#000000"}}},indicatorSeparator:e=>({display:"none",paddingX:"2px"}),valueContainer:(e,a)=>({...e,position:"relative",fontSize:"14px",maxWidth:S,whiteSpace:"nowrap",overflow:"visible",color:"#1c7e80",padding:"0px",display:"flex",flexWrap:n?"wrap":"nowrap",maxHeight:"fit-content",textOverflow:"ellipsis",paddingLeft:a.hasValue||a.selectProps.inputValue?3:2,fontStyle:"normal",fontFamily:"'Belleza', sans-serif","&:hover, &:active, &:focus":{color:"#1c7e80"}}),input:(e,a)=>({...e,fontSize:"14px",overflow:"clip",fontFamily:"'Belleza', sans-serif"}),placeholder:(e,a)=>({...e,display:o&&(a.menuIsOpen||a.selectProps.menuIsOpen||a.hasValue||a.selectProps.inputValue)?"none":"block",position:"absolute",borderRadius:"2px",color:a.menuIsOpen||a.selectProps.menuIsOpen?t?"#eaeaea":"#1976D2":z?"#d32f2f":"#1c7e80",fontSize:a.menuIsOpen||a.selectProps.menuIsOpen||a.hasValue||a.selectProps.inputValue?14:20,transition:"top 0.1s, font-size 0.1s",top:a.menuIsOpen||a.selectProps.menuIsOpen||a.hasValue||a.selectProps.inputValue?I?-12:-20:I?6:-5,paddingLeft:a.menuIsOpen||a.selectProps.menuIsOpen||a.hasValue||a.selectProps.inputValue?4:"",paddingRight:a.menuIsOpen||a.selectProps.menuIsOpen||a.hasValue||a.selectProps.inputValue?4:"",marginBottom:a.menuIsOpen||a.selectProps.menuIsOpen||a.hasValue||a.selectProps.inputValue?2:"",backgroundColor:a.menuIsOpen||a.selectProps.menuIsOpen||a.hasValue||a.selectProps.inputValue?t?"#f0f0f0":"rgba(255, 255, 255, 1)":"",zIndex:a.menuIsOpen||a.selectProps.menuIsOpen||a.hasValue||a.selectProps.inputValue?10:"",fontStyle:"normal",fontFamily:"'Belleza', sans-serif",marginLeft:"10px"})},{ValueContainer:P,Placeholder:F}=p.c,A=e=>{let{children:a,...t}=e;return(0,c.jsxs)(P,{...t,children:[(0,c.jsx)(F,{...t,isFocused:t.isFocused,children:t.selectProps.placeholder}),s.Children.map(a,(e=>e&&e.type!==F?e:null))]})};return(0,c.jsx)("div",{className:"w-full font-['Belleza',sans-serif]",ref:k,children:(0,c.jsx)(r.A,{fullWidth:!0,sx:{overFlowX:"hidden",fontFamily:"'Belleza', sans-serif"},children:(0,c.jsx)(l.xI,{control:d,name:x,defaultValue:v,render:e=>{let{field:s}=e;return(0,c.jsx)(g.Ay,{hideSelectedOptions:!0,className:a+"text-[14px] text-gray-800 w-full capitalize",isDisabled:t,inputRef:i,...s,ref:null,isMulti:n,closeMenuOnSelect:!n,options:f,isClearable:j,clearValue:!0,isSearchable:I,placeholder:y,defaultValue:v,blurInputOnSelect:!0,menuPlacement:N,menuShouldBlockScroll:C,menuPortalTarget:document.body,styles:{...O,menuPortal:e=>({...e,zIndex:1300})},components:{DropdownIndicator:()=>n?(0,c.jsx)(m.A,{className:"mx-2 text-gray-600"}):w?(0,c.jsx)(u.A,{className:"mx-2 text-gray-600"}):(0,c.jsx)(m.A,{className:"mx-2 text-gray-600"}),ValueContainer:A}})}})})})};var f=t(9670),x=t(2891),b=t(9231),y=t(3422);const j=()=>(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M14.8284 14.8284L9.17158 9.17158M9.17157 14.8284L14.8284 9.17158M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"#FF0000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})});var v=t(7850),w=t(6270);const I=e=>{let{type:a,onClick:t,label:s,className:l,disabled:o,searchIcon:n}=e;return(0,c.jsxs)("button",{type:a||"button",onClick:t,disabled:o,className:o?"h-11 px-6 w-max rounded-lg text-sm font-medium bg-gray-400  text-white":`h-11 px-6 w-max rounded-lg text-sm font-medium ${l}`,children:[s,n&&(0,c.jsx)(u.A,{className:"cursor-pointer"})]})},N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",boxShadow:24,p:4,border:"none"};const C=function(e){let{open:a,handleClose:t,edit:r,setOpenbackdrop:i,editRow:m,getImages:u,categories:p}=e;const g=o.Ik().shape({name:o.Yj().required("Name is required"),category:o.Ik().shape({label:o.Yj().required("Category is required"),value:o.Yj().required()}).required("Category is required")}),C={name:"Fusion Film",category:null},{register:k,control:S,reset:V,handleSubmit:z,formState:{errors:O}}=(0,l.mN)({mode:"onChange",resolver:(0,n.t)(g),defaultValues:C}),[P,F]=(0,s.useState)([]);return(0,s.useEffect)((()=>{m&&(V({name:m.name,category:{label:m.category.label,value:m.category.value}}),F([]))}),[m,V]),console.log("selectedFilesselectedFiles",P),(0,c.jsx)(f.A,{open:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,c.jsx)(x.A,{sx:N,className:"rounded-md",children:(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center ",children:[(0,c.jsx)("h1",{className:"text-xl font-bold font-raleway",children:r?"Edit Image":"Upload Images"}),(0,c.jsx)("button",{onClick:t,children:(0,c.jsx)(j,{})})]}),(0,c.jsxs)("form",{onSubmit:z((e=>{if(!r&&0===P.length)return void alert("Please select at least one image to upload.");const a=new FormData;a.append("name",e.name),a.append("category",e.category.value),P.forEach((e=>{let{file:t}=e;a.append("image",t)}));const s=r?b.Zy:b.XD;i(!0),s(a).then((e=>{var a;a=e.message,console.log("success Alert",a),y.oR.success(a,{position:"top-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,toastId:1}),V(C),t(),i(!1),u(),F([])})).catch((e=>{var a;a=e.message,y.oR.error(a,{position:"top-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,toastId:5}),i(!1)}))})),className:"space-y-8",children:[(0,c.jsx)(d,{control:S,name:"name",label:"Name",error:null===O||void 0===O?void 0:O.name}),(0,c.jsx)(h,{control:S,name:"category",placeholder:"Category",dataArray:p,error:null===O||void 0===O?void 0:O.category}),(0,c.jsx)("div",{children:r&&m?(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:m.imageLink,alt:"Preview",className:"mb-2 w-full h-32 object-cover"}),(0,c.jsx)("button",{type:"button",className:"w-full p-2 bg-gray-300 text-black font-bold rounded mb-2",onClick:()=>{F([])},children:"Replace Image"})]}):(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{type:"file",id:"upload",hidden:!0,...k("file"),multiple:!0,accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files.length>0){const a=Array.from(e.target.files).map((e=>({file:e,showImg:URL.createObjectURL(e)}))),t=[...P,...a];if(t.length>6){const e=t.slice(0,6);t.slice(6).forEach((e=>URL.revokeObjectURL(e.showImg))),alert("Maximum 6 images are allowed. Only the first 6 have been selected."),F(e)}else F(t)}}}),(0,c.jsxs)("label",{htmlFor:"upload",className:"flex items-center justify-center gap-2 py-2 px-4 bg-[#1c7e80] text-white font-semibold rounded shadow-md cursor-pointer transition hover:bg-[#166a6b] active:scale-95",children:[(0,c.jsx)(v.A,{}),(0,c.jsx)("span",{children:"Choose Images"})]}),(0,c.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-2 h-[250px] border-customColor rounded overflow-y-auto border p-2",children:P.map(((e,a)=>(0,c.jsxs)("div",{className:"relative group",children:[(0,c.jsx)("img",{src:e.showImg,alt:`Preview ${a+1}`,className:"w-full h-28 object-cover rounded"}),(0,c.jsx)("button",{type:"button",className:"absolute top-0 right-0 transition",onClick:()=>{return e=a,void F((a=>a.filter(((a,t)=>t!==e))));var e},children:(0,c.jsx)(w.A,{fontSize:"small",className:"text-red-500"})})]},a)))})]})}),(0,c.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,c.jsx)(I,{type:"button",className:"border border-customRed text-customRed",label:"Reset",onClick:()=>{V(C),F([])}}),(0,c.jsx)(I,{type:"submit",className:"bg-customGreen text-white",label:r?"Update":"Upload"})]})]})]})})})};var k=t(9125),S=t(9574),V=t(6780);function z(e){let{openBackdrop:a}=e;return(0,c.jsx)("div",{children:(0,c.jsx)(k.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.modal+1},open:a,className:"flex justify-center",children:(0,c.jsx)(S.A,{color:"inherit",sx:{animationDuration:"550ms",position:"absolute",left:0,[`& .${V.A.circle}`]:{strokeLinecap:"round"},marginX:"auto",position:"absolute",left:"50%"},thickness:6,size:90})})})}var O=t(7060);const P=function(){const{control:e,watch:a,setValue:t}=(0,l.mN)({});let o=a("category");const[n,r]=(0,s.useState)(!1),[i,d]=(0,s.useState)([]),[m,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(null),[f,x]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[v,w]=(0,s.useState)([]),N=()=>{j(!0),(0,b.r$)(null===o||void 0===o?void 0:o.id).then((e=>{console.log(e,"imagesDataList.length > 0"),d(e.data.images),j(!1)})).catch((e=>{console.log(e),j(!1)}))};return(0,s.useEffect)((()=>{o&&N()}),[o]),(0,s.useEffect)((()=>{(0,b.AU)().then((e=>{let a=e.data.find((e=>"Bride"===e.label));console.log("defaultValue",a),t("category",a),w(e.data)})).catch((e=>e))}),[]),(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-4 gap-2 justify-between",children:[(0,c.jsx)("div",{className:"w-full",children:(0,c.jsx)(h,{control:e,name:"category",placeholder:"Category",searchIcon:!0,dataArray:v,isSearchable:!0})}),(0,c.jsx)("div",{children:(0,c.jsx)(I,{type:"button",searchIcon:!0,className:"bg-[#073763]  text-white",onClick:()=>N()})}),(0,c.jsx)("div",{className:"col-start-4 flex justify-end -w-full",children:(0,c.jsx)("button",{className:"bg-[#073763] px-6 text-sm p-2 text-white font-montserrat rounded-md",onClick:()=>r(!0),children:"Add Images"})})]}),y&&(0,c.jsx)("div",{className:"grid justify-center items-center h-96",children:(0,c.jsx)(O.A,{})}),i.length>0&&!y?(0,c.jsx)("div",{className:"grid mt-12 lg:grid-cols-4 gap-2",children:i.map(((e,a)=>(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2 border p-2 shadow rounded-sm",children:[(0,c.jsx)("img",{src:e.imageLink,alt:e.src,className:"h-32 w-32 object-cover"}),(0,c.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("h1",{className:"font-montserrat text-sm ",children:[" Name : ",(0,c.jsx)("span",{className:"font-bold font-raleway",children:e.name})," "]}),(0,c.jsxs)("h1",{className:"font-montserrat text-sm",children:[" Category : ",(0,c.jsx)("span",{className:"font-bold font-raleway",children:e.category})," "]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,c.jsx)("button",{className:"bg-blue-500 text-white font-montserrat text-sm rounded-md",onClick:()=>{g({id:e.id,name:e.name,category:{label:e.category,value:e.category},imageLink:e.imageLink}),u(!0),r(!0)},children:"Edit"}),(0,c.jsx)("button",{className:"bg-red-500 text-white font-montserrat text-sm rounded-md",onClick:()=>{return a=e.id,t=e.category,void(0,b.Vg)(a,t).then((e=>{alert(e.data.message),N()})).catch((e=>{console.error("Failed to delete the image:",e),alert("Failed to delete the image.")}));var a,t},children:"Delete"})]})]})]},a)))}):(0,c.jsx)(c.Fragment,{children:!y&&(0,c.jsxs)("div",{className:"flex justify-center h-96 items-center font-semibold",children:["No Record Found ",(0,c.jsx)("span",{className:"animate-pulse",children:"..."})]})}),n&&(0,c.jsx)(C,{open:n,handleClose:()=>{r(!1),u(!1),g(null)},edit:m,editRow:p,getImages:N,setOpenbackdrop:x,categories:v}),f&&(0,c.jsx)(z,{openBackdrop:f})]})}},7060:(e,a,t)=>{t.d(a,{A:()=>l});t(2483);var s=t(6723);const l=()=>(0,s.jsx)("div",{className:"loading-container",children:[1,2,3,4,5].map(((e,a)=>(0,s.jsx)("span",{id:"span",className:"loading-dot",style:{animationDelay:100*a+"ms",transform:`translateX(${105*a}%)`}})))})},9231:(e,a,t)=>{t.d(a,{uX:()=>u,bP:()=>x,MC:()=>m,KG:()=>p,TK:()=>f,Zy:()=>i,XD:()=>r,dr:()=>j,RU:()=>y,hG:()=>h,Q8:()=>g,Vg:()=>d,AU:()=>n,r$:()=>c,F$:()=>v,RC:()=>w,Xd:()=>b});var s=t(8826);const l="https://backend-api.fusionphotofilms.com",o=(s.A.create({baseURL:l,headers:{"Content-Type":"application/json"}}),s.A.create({baseURL:l+"/api",headers:{"Content-type":"application/json"}})),n=async()=>await o.get("/images/categories"),r=async e=>await o.post("/images/uploadImage",e,{headers:{"Content-Type":"multipart/form-data"}}),i=async e=>await o.put("/images/allImages",e),c=async e=>await o.get(`/images/allImages/${e}`),d=async(e,a)=>await o.delete("/images/allImages",{data:{id:e,category:a}}),m=async()=>await o.get("/images/frontImg"),u=async()=>await o.get("/images/brideImg"),p=async()=>await o.get("/images/groomImg"),g=async()=>await o.get("/images/wedImg"),h=async()=>await o.get("/images/preWeddingImg"),f=async()=>await o.get("/images/haldiImg"),x=async()=>await o.get("/images/engagementImg"),b=async()=>await o.get("/images/mehndiImage"),y=async()=>await o.get("/images/mekeupImg"),j=async()=>await o.get("/images/maternity"),v=async()=>await o.get("/images/galleryContent"),w=async()=>await o.get("/images/otherImg")}}]);
//# sourceMappingURL=916.3028c6cb.chunk.js.map